<!--
  Generated template for the CreateShoppingCartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{title}}
      <ion-button>
        <ion-icon name="close" class="dismiss" (click)="dismiss()"></ion-icon>
      </ion-button>
    </ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <md-input-container>
    <ion-item>
      <ion-label>{{text4Switch()}}</ion-label>
    <ion-toggle [(ngModel)]="ShoppingCart.online"></ion-toggle>
  </ion-item>
    <ion-item>
      <ion-label>Data Acquisto</ion-label>
      <ion-datetime  [(ngModel)]="ShoppingCart.dataAcquisto">
      </ion-datetime>
    </ion-item>
        <data-fiscale [(dataAcquisto)]=ShoppingCart.dataAcquisto (dataAddebitoCalculated)="ShoppingCart.dataAddebito=$event" [payment]=payment></data-fiscale>
    <!--input mdInput [mdDatepicker]="picker" [(ngModel)]="date" placeholder="Choose a date">
    <button mdSuffix [mdDatepickerToggle]="picker"></button-->
  </md-input-container>
  <!--md-datepicker #picker></md-datepicker-->

  <ion-row>
    <ion-col>
      <label><b> fornitore</b></label>
      <selector [db]=Suppliers (selected)="selectedSupplier($event)" [fieldId]=ShoppingCart.fornitoreId [placeholder]=supplierPlaceholder>
      </selector>
    </ion-col>
    <ion-col>
      <label><b> metodo di pagamento</b></label>
      <selector [db]=Payments (selected)="selectedPayment($event)" [fieldId]=ShoppingCart.pagamentoId [placeholder]=paymentPlaceholder>
      </selector>
    </ion-col>
  </ion-row>
  <ion-input type="text" [(ngModel)]="dataFiscale" disabled></ion-input>
  <md-input-container>
    <ion-input type="text" [(ngModel)]="dataFiscale" disabled></ion-input>
  </md-input-container>
  <!--ion-input type="number" label="totale" [ngModel]="ShoppingCart.totale"></ion-input-->
  <div>
  <totale [items]="ShoppingCart.items" [moneta]="ShoppingCart.moneta" [tassoConversione]="ShoppingCart.tassoConversione" (Totale)="setTotale($event)" ></totale>
  <ion-fab middle right  color="light"  >
    <button ion-fab (click)="addItem()" ><ion-icon name="add"></ion-icon></button>
  </ion-fab>
  <purchased-itemlist [(items)]="ShoppingCart.items" (deleteItem)="deleteItem($event)" (UpdatedItem)="UpdatedItem($event)">
    
  </purchased-itemlist>
  </div>
    <!-- Mini -->
    <div *ngIf="createMode">
    <ion-fab bottom right   >
        <button ion-fab (click)="pushShoppingCart(ShoppingCart)"><ion-icon name="archive"></ion-icon></button>
      </ion-fab>
    </div> 
    <div *ngIf="updateMode">
      <ion-fab bottom right   >
        <button ion-fab (click)="updateShoppingCart(ShoppingCart)"><ion-icon name="archive"></ion-icon></button>
      </ion-fab>
    </div> 
</ion-content>